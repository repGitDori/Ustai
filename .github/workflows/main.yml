name: Run Ustai Tool

on:
  push:
    branches:
      - main

jobs:
  run-ustai:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout the repository
        uses: actions/checkout@v3

      - name: Set up Python 3.x
        uses: actions/setup-python@v3
        with:
          python-version: '3.x'

      - name: Install dependencies
        run: |
          if [ -f requirements.txt ]; then pip install -r requirements.txt; else echo "No requirements file found."; fi

      - name: Run Ustai Tool
        env:
          USER_NAME: "John_Doe"
          TOOL_NAME: "ImageAnalyzer"
          CHOICE: "2"  # Adjust the priority choice (1-5)
          DESCRIPTION: "This is a description of the issue."
        run: python Ustai.py
